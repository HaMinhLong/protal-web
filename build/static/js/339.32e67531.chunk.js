"use strict";(self.webpackChunkprotal_web=self.webpackChunkprotal_web||[]).push([[339],{82242:function(e,i,l){l.r(i),l.d(i,{default:function(){return Fe}});var d=l(1413),n=l(70885),o=l(72791),t=l(94667),r=l(93051),s=l(38449),a=l(32004),u=l(61889),c=l(4942),v=l(63366),p=l(87462),m=l(94419),x=l(12065),h=l(97278),f=l(76189),Z=l(80184),g=(0,f.Z)((0,Z.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),j=(0,f.Z)((0,Z.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),b=(0,f.Z)((0,Z.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),I=l(14036),y=l(31402),C=l(66934),w=l(21217);function k(e){return(0,w.Z)("MuiCheckbox",e)}var S=(0,l(75878).Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),P=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size"],V=(0,C.ZP)(h.Z,{shouldForwardProp:function(e){return(0,C.FO)(e)||"classes"===e},name:"MuiCheckbox",slot:"Root",overridesResolver:function(e,i){var l=e.ownerState;return[i.root,l.indeterminate&&i.indeterminate,"default"!==l.color&&i["color".concat((0,I.Z)(l.color))]]}})((function(e){var i,l=e.theme,d=e.ownerState;return(0,p.Z)({color:(l.vars||l).palette.text.secondary},!d.disableRipple&&{"&:hover":{backgroundColor:l.vars?"rgba(".concat("default"===d.color?l.vars.palette.action.activeChannel:l.vars.palette.primary.mainChannel," / ").concat(l.vars.palette.action.hoverOpacity,")"):(0,x.Fq)("default"===d.color?l.palette.action.active:l.palette[d.color].main,l.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==d.color&&(i={},(0,c.Z)(i,"&.".concat(S.checked,", &.").concat(S.indeterminate),{color:(l.vars||l).palette[d.color].main}),(0,c.Z)(i,"&.".concat(S.disabled),{color:(l.vars||l).palette.action.disabled}),i))})),F=(0,Z.jsx)(j,{}),N=(0,Z.jsx)(g,{}),O=(0,Z.jsx)(b,{}),z=o.forwardRef((function(e,i){var l,d,n=(0,y.Z)({props:e,name:"MuiCheckbox"}),t=n.checkedIcon,r=void 0===t?F:t,s=n.color,a=void 0===s?"primary":s,u=n.icon,c=void 0===u?N:u,x=n.indeterminate,h=void 0!==x&&x,f=n.indeterminateIcon,g=void 0===f?O:f,j=n.inputProps,b=n.size,C=void 0===b?"medium":b,w=(0,v.Z)(n,P),S=h?g:c,z=h?g:r,E=(0,p.Z)({},n,{color:a,indeterminate:h,size:C}),L=function(e){var i=e.classes,l=e.indeterminate,d=e.color,n={root:["root",l&&"indeterminate","color".concat((0,I.Z)(d))]},o=(0,m.Z)(n,k,i);return(0,p.Z)({},i,o)}(E);return(0,Z.jsx)(V,(0,p.Z)({type:"checkbox",inputProps:(0,p.Z)({"data-indeterminate":h},j),icon:o.cloneElement(S,{fontSize:null!=(l=S.props.fontSize)?l:C}),checkedIcon:o.cloneElement(z,{fontSize:null!=(d=z.props.fontSize)?d:C}),ownerState:E,ref:i},w,{classes:L}))})),E=l(64554),L=l(36151),D=l(96051),M=l(55705),J=l(53329),T=l(38926),W=l(36370),A=l(62461),B=l(15405),H=l(99198),_=l(20958),R=l(45912),q=l(12069),G=l(68418),Y=l(77630),X=l(14868),Q=l(22293),K=l(47071),U=l(29388),$=function(e){var i=e.formik,l=e.setFieldValue,t=e.addOrEdit,s=(0,r.I0)(),a=(0,o.useState)([]),u=(0,n.Z)(a,2),c=u[0],v=u[1];(0,o.useEffect)((function(){p()}),[]);var p=function(){s({type:"producer/fetchLazyLoading",payload:{filter:JSON.stringify({status:1}),range:JSON.stringify([0,500])},callback:function(e){var i=(null===e||void 0===e?void 0:e.results).list,l=null===i||void 0===i?void 0:i.map((function(e){return{value:e.id,label:e.name}}));v(l)}})};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(X.Z,{fullWidth:!0,size:"small",disablePortal:!0,id:"combo-box-demo",value:(null===c||void 0===c?void 0:c.length)>0?null===c||void 0===c?void 0:c.filter((function(e){var l;return e.value===(null===i||void 0===i||null===(l=i.values)||void 0===l?void 0:l.producerId)}))[0]:{value:"",label:""},options:c,disableClearable:t,renderInput:function(e){var l;return(0,Z.jsx)(Q.Z,(0,d.Z)((0,d.Z)({},e),{},{name:"producerId",label:t?(0,Z.jsxs)("span",{className:"input-label",children:["Nh\xe0 s\u1ea3n xu\u1ea5t ",(0,Z.jsx)("span",{children:" *"})]}):"Nh\xe0 s\u1ea3n xu\u1ea5t",error:i.touched.producerId&&Boolean(null===(l=i.errors)||void 0===l?void 0:l.producerId)}))},onChange:function(e,i){return l("producerId",null===i||void 0===i?void 0:i.value)}}),i.touched.producerId&&i.errors.producerId&&(0,Z.jsxs)(K.Z,{error:!0,className:"error-custom",children:[(0,Z.jsx)(U.Z,{fontSize:"small",sx:{mr:.5,width:"18px",height:"18px"}}),i.errors.producerId]})]})},ee=function(e){var i=e.formik,l=e.setFieldValue,t=e.addOrEdit,s=(0,r.I0)(),a=(0,o.useState)([]),u=(0,n.Z)(a,2),c=u[0],v=u[1];(0,o.useEffect)((function(){p()}),[]);var p=function(){s({type:"supplier/fetchLazyLoading",payload:{filter:JSON.stringify({status:1}),range:JSON.stringify([0,500])},callback:function(e){var i=(null===e||void 0===e?void 0:e.results).list,l=null===i||void 0===i?void 0:i.map((function(e){return{value:e.id,label:e.name}}));v(l)}})};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(X.Z,{fullWidth:!0,size:"small",disablePortal:!0,id:"combo-box-demo",value:(null===c||void 0===c?void 0:c.length)>0?null===c||void 0===c?void 0:c.filter((function(e){var l;return e.value===(null===i||void 0===i||null===(l=i.values)||void 0===l?void 0:l.supplierId)}))[0]:{value:"",label:""},options:c,disableClearable:t,renderInput:function(e){var l;return(0,Z.jsx)(Q.Z,(0,d.Z)((0,d.Z)({},e),{},{name:"supplierId",label:t?(0,Z.jsxs)("span",{className:"input-label",children:["Nh\xe0 cung c\u1ea5p ",(0,Z.jsx)("span",{children:" *"})]}):"Nh\xe0 cung c\u1ea5p",error:i.touched.supplierId&&Boolean(null===(l=i.errors)||void 0===l?void 0:l.supplierId)}))},onChange:function(e,i){return l("supplierId",null===i||void 0===i?void 0:i.value)}}),i.touched.supplierId&&i.errors.supplierId&&(0,Z.jsxs)(K.Z,{error:!0,className:"error-custom",children:[(0,Z.jsx)(U.Z,{fontSize:"small",sx:{mr:.5,width:"18px",height:"18px"}}),i.errors.supplierId]})]})},ie=l(20890),le=l(13400),de=l(42419),ne=l(27247),oe=l(35855),te=l(53994),re=l(39281),se=l(79836),ae=l(56890),ue=l(53382),ce=function(e){var i,l,n,o=e.formikProp,t={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},r=function(e,i,l){var n,t,r=null===o||void 0===o||null===(n=o.values)||void 0===n||null===(t=n.productPrices)||void 0===t?void 0:t.find((function(l){return(null===l||void 0===l?void 0:l.productClass1Id)===e&&(null===l||void 0===l?void 0:l.productClass2Id)===i}));return(0,Z.jsx)(Q.Z,{size:"small",fullWidth:!0,variant:"standard",value:null===r||void 0===r?void 0:r[l],type:"number",onChange:function(n){var t=Number(n.target.value);if(r){var s,a,u=null===o||void 0===o||null===(s=o.values)||void 0===s||null===(a=s.productPrices)||void 0===a?void 0:a.map((function(e){return(null===e||void 0===e?void 0:e.id)===(null===r||void 0===r?void 0:r.id)?(0,d.Z)((0,d.Z)({},r),{},{price:"price"===l?t:null===e||void 0===e?void 0:e.price,negotiablePrice:"negotiablePrice"===l?t:null===e||void 0===e?void 0:e.negotiablePrice,amount:"amount"===l?t:null===e||void 0===e?void 0:e.amount}):e}));o.setFieldValue("productPrices",u)}else{var c,v={id:Math.floor(9900001*Math.random()),price:"price"===l?t:0,negotiablePrice:"negotiablePrice"===l?t:0,amount:"amount"===l?t:0,productClass1Id:e,productClass2Id:i,flag:"add"};o.setFieldValue("productPrices",null===o||void 0===o||null===(c=o.values)||void 0===c?void 0:c.productPrices.concat([v]))}}})};return(0,Z.jsx)(E.Z,{children:(0,Z.jsx)(re.Z,{sx:{overflow:"auto"},children:(0,Z.jsxs)(se.Z,{children:[(0,Z.jsx)(ae.Z,{children:function(){var e={whiteSpace:"nowrap",fontWeight:"bold"};return(0,Z.jsxs)(oe.Z,{children:[(0,Z.jsx)(te.Z,{sx:e,children:"Ph\xe2n lo\u1ea1i 1"}),(0,Z.jsx)(te.Z,{sx:e,children:(0,Z.jsxs)(E.Z,{display:"flex",justifyContent:"space-between",children:[(0,Z.jsx)(E.Z,{sx:{width:"25%"},children:"Ph\xe2n lo\u1ea1i 2"}),(0,Z.jsx)(E.Z,{sx:{width:"25%"},children:"Gi\xe1"}),(0,Z.jsx)(E.Z,{sx:{width:"25%"},children:"Gi\xe1 sale"}),(0,Z.jsx)(E.Z,{sx:{width:"25%"},children:"S\u1ed1 l\u01b0\u1ee3ng"})]})})]})}()}),(0,Z.jsx)(ue.Z,{children:null===o||void 0===o||null===(i=o.values)||void 0===i||null===(l=i.productClass1s)||void 0===l||null===(n=l.filter((function(e){return"delete"!==(null===e||void 0===e?void 0:e.flag)})))||void 0===n?void 0:n.map((function(e){return function(e){var i,l,n;return(0,Z.jsxs)(oe.Z,{hover:!0,children:[(0,Z.jsx)(te.Z,{sx:(0,d.Z)({maxWidth:100},t),component:"th",scope:"row",children:null===e||void 0===e?void 0:e.name}),(0,Z.jsx)(te.Z,{children:null===o||void 0===o||null===(i=o.values)||void 0===i||null===(l=i.productClass2s)||void 0===l||null===(n=l.filter((function(e){return"delete"!==(null===e||void 0===e?void 0:e.flag)})))||void 0===n?void 0:n.map((function(i,l){return(0,Z.jsxs)(E.Z,{display:"flex",sx:{mt:l>0?2:0},justifyContent:"space-between",children:[(0,Z.jsx)(E.Z,{sx:{width:"25%"},children:(0,Z.jsx)(ie.Z,{children:null===i||void 0===i?void 0:i.name})}),(0,Z.jsx)(E.Z,{sx:{width:"25%",pr:2},children:r(null===e||void 0===e?void 0:e.id,null===i||void 0===i?void 0:i.id,"price")}),(0,Z.jsx)(E.Z,{sx:{width:"25%",pr:2},children:r(null===e||void 0===e?void 0:e.id,null===i||void 0===i?void 0:i.id,"negotiablePrice")}),(0,Z.jsx)(E.Z,{sx:{width:"25%",pr:2},children:r(null===e||void 0===e?void 0:e.id,null===i||void 0===i?void 0:i.id,"amount")})]},l)}))})]},e.id)}(e)}))})]})})})},ve=function(e){var i=e.formikProp,l={p:"10px",mb:"10px",border:"1px solid #bbb"},n={pb:"5px",mb:"10px",textAlign:"center",borderBottom:"1px solid #bbb"},o=[{id:1},{id:2}];return(0,Z.jsxs)(u.ZP,{container:!0,spacing:2,children:[(0,Z.jsx)(u.ZP,{item:!0,xs:12,md:4,lg:4,children:null===o||void 0===o?void 0:o.map((function(e){var o,t,r=null===i||void 0===i||null===(o=i.values)||void 0===o?void 0:o["productClass".concat(null===e||void 0===e?void 0:e.id,"s")];return(0,Z.jsxs)(E.Z,{sx:(0,d.Z)({},l),children:[(0,Z.jsxs)(ie.Z,{sx:(0,d.Z)({},n),children:["Nh\xf3m ph\xe2n lo\u1ea1i ",null===e||void 0===e?void 0:e.id]}),null===r||void 0===r||null===(t=r.filter((function(e){return"delete"!==(null===e||void 0===e?void 0:e.flag)})))||void 0===t?void 0:t.map((function(l){return(0,Z.jsxs)(E.Z,{display:"flex",children:[(0,Z.jsx)(Q.Z,{size:"small",fullWidth:!0,name:"name",variant:"standard",value:null===l||void 0===l?void 0:l.name,sx:{mb:1},onChange:function(n){var o=null===r||void 0===r?void 0:r.map((function(e){return(null===e||void 0===e?void 0:e.id)===(null===l||void 0===l?void 0:l.id)?(0,d.Z)((0,d.Z)({},e),{},{name:n.target.value}):e}));i.setFieldValue("productClass".concat(null===e||void 0===e?void 0:e.id,"s"),o)}}),(0,Z.jsx)(le.Z,{"aria-label":"delete product class",edge:"end",onClick:function(){return function(e,l){var n,o,t,r,s=null===i||void 0===i||null===(n=i.values)||void 0===n||null===(o=n["productClass".concat(e,"s")])||void 0===o?void 0:o.map((function(e){return(null===e||void 0===e?void 0:e.id)===l?(0,d.Z)((0,d.Z)({},e),{},{flag:"delete"}):e})),a=null===i||void 0===i||null===(t=i.values)||void 0===t||null===(r=t.productPrices)||void 0===r?void 0:r.map((function(i){return(null===i||void 0===i?void 0:i["productClass".concat(e,"Id")])===l?(0,d.Z)((0,d.Z)({},i),{},{flag:"delete"}):i}));i.setFieldValue("productPrices",a),i.setFieldValue("productClass".concat(e,"s"),s)}(null===e||void 0===e?void 0:e.id,null===l||void 0===l?void 0:l.id)},children:(0,Z.jsx)(ne.Z,{color:"error",fontSize:"small"})})]},null===l||void 0===l?void 0:l.id)})),(0,Z.jsxs)(L.Z,{sx:{mt:1},fullWidth:!0,startIcon:(0,Z.jsx)(de.Z,{}),variant:"outlined",onClick:function(){var l=[{id:Math.floor(9900001*Math.random()),name:"Lo\u1ea1i ".concat((null===r||void 0===r?void 0:r.length)+1),flag:"add"}].concat(r);i.setFieldValue("productClass".concat(null===e||void 0===e?void 0:e.id,"s"),l)},disabled:10===(null===r||void 0===r?void 0:r.length),children:["Th\xeam ph\xe2n lo\u1ea1i (",null===r||void 0===r?void 0:r.length,"/10)"]})]},null===e||void 0===e?void 0:e.id)}))}),(0,Z.jsx)(u.ZP,{item:!0,xs:12,md:8,lg:8,children:(0,Z.jsx)(ce,{formikProp:i})})]})},pe=l(20782),me=function(e){var i,l,t,s,c,v,p=e.open,m=e.dataEdit,x=e.handleClose,h=e.getList,f=(0,r.I0)(),g=(0,o.useState)({productClass1s:[],productClass2s:[]}),j=(0,n.Z)(g,2),b=j[0],I=j[1],y=(0,o.useState)(!1),C=(0,n.Z)(y,2),w=C[0],k=C[1],S=(0,o.useState)({}),P=(0,n.Z)(S,2),V=P[0],F=P[1];(0,o.useEffect)((function(){p&&(null!==m&&void 0!==m&&m.id?(k(!0),f({type:"product/getOne",payload:{id:null===m||void 0===m?void 0:m.id},callback:function(e){if(k(!1),!0===(null===e||void 0===e?void 0:e.success)){var i=e.results.list;I(i)}else!1===(null===e||void 0===e?void 0:e.success)&&(0,a.Z)("error",null===e||void 0===e?void 0:e.message)}})):I({productClass1s:[],productClass2s:[]}))}),[p]);var N=D.Ry().shape({name:D.Z_().trim().max(254).required("Vui l\xf2ng nh\u1eadp t\xean s\u1ea3n ph\u1ea9m"),url:D.Z_().trim().max(254).required("Vui l\xf2ng nh\u1eadp url"),description:D.Z_().trim().max(1e3),author:D.Z_().trim().max(254),price:D.Rx().min(1,"Vui l\xf2ng nh\u1eadp gi\xe1 ti\u1ec1n l\u1edbn h\u01a1n 0"),negotiablePrice:D.Rx().min(1,"Vui l\xf2ng nh\u1eadp gi\xe1 th\u1ecfa thu\u1eadn h\u01a1n 0"),source:D.Z_().trim().max(254),label:D.Z_().trim().max(254),websiteId:D.Z_().required("Vui l\xf2ng ch\u1ecdn website"),categoryId:D.Z_().required("Vui l\xf2ng ch\u1ecdn chuy\xean m\u1ee5c")}),O=(0,M.TA)({enableReinitialize:!0,initialValues:{name:(null===b||void 0===b?void 0:b.name)||"",url:(null===b||void 0===b?void 0:b.url)||"",price:(null===b||void 0===b?void 0:b.price)||0,negotiablePrice:(null===b||void 0===b?void 0:b.negotiablePrice)||0,description:(null===b||void 0===b?void 0:b.description)||"",content:(null===b||void 0===b?void 0:b.content)||"",images:(null===b||void 0===b?void 0:b.images)||"",websiteId:(null===b||void 0===b?void 0:b.websiteId)||"",categoryId:(null===b||void 0===b?void 0:b.categoryId)||"",producerId:(null===b||void 0===b?void 0:b.producerId)||"",supplierId:(null===b||void 0===b?void 0:b.supplierId)||"",categoryName:(null===b||void 0===b||null===(i=b.category)||void 0===i?void 0:i.text)||"",productClass1s:(null===b||void 0===b||null===(l=b.productClass1s)||void 0===l?void 0:l.length)>0?null===b||void 0===b?void 0:b.productClass1s:[],productClass2s:(null===b||void 0===b||null===(t=b.productClass2s)||void 0===t?void 0:t.length)>0?null===b||void 0===b?void 0:b.productClass2s:[],isSale:(null===b||void 0===b?void 0:b.isSale)||!1,productPrices:(null===b||void 0===b?void 0:b.productPrices)||[],status:0===(null===b||void 0===b?void 0:b.status)?0:1},validationSchema:N,onSubmit:function(e){X(e)}}),X=function(e){var i,l;k(!0);var n=(0,d.Z)((0,d.Z)({},e),{},{name:null===e||void 0===e||null===(i=e.name)||void 0===i?void 0:i.trim(),nameOld:null===b||void 0===b||null===(l=b.name)||void 0===l?void 0:l.trim()});null!==b&&void 0!==b&&b.id?f({type:"product/update",payload:{id:null===b||void 0===b?void 0:b.id,params:n},callback:function(e){null!==e&&void 0!==e&&e.success?((0,a.Z)("success",null===e||void 0===e?void 0:e.message),h(),Q()):(F(e.error),(0,a.Z)("error",e.message)),k(!1)}}):f({type:"product/add",payload:n,callback:function(e){k(!1),null!==e&&void 0!==e&&e.success?((0,a.Z)("success",null===e||void 0===e?void 0:e.message),h(),Q()):(F(e.error),(0,a.Z)("error",e.message))}})},Q=function(){x(),O.resetForm(),O.setTouched({},!1),F({})},K=[{value:0,label:"Th\xf4ng tin c\u01a1 b\u1ea3n",tab:(0,Z.jsxs)(u.ZP,{container:!0,spacing:3,children:[(0,Z.jsx)(u.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,Z.jsx)(B.Z,{name:"name",formik:O,errors:V,required:!0,label:"T\xean s\u1ea3n ph\u1ea9m",handleChange:function(e){!function(e){var i,l,d=(0,G.CQ)(e),n=null===d||void 0===d||null===(i=d.split(" "))||void 0===i||null===(l=i.join("-"))||void 0===l?void 0:l.toLowerCase();O.setFieldValue("url",n)}(e)}})}),(0,Z.jsx)(u.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,Z.jsx)(B.Z,{name:"url",formik:O,errors:V,required:!0,label:"\u0110\u01b0\u1eddng d\u1eabn"})}),(0,Z.jsx)(u.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,Z.jsx)($,{formik:O,setFieldValue:O.setFieldValue,addOrEdit:!0})}),(0,Z.jsx)(u.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,Z.jsx)(_.Z,{formik:O,setFieldValue:O.setFieldValue,addOrEdit:!0,handleChange:function(){O.setFieldValue("categoryId",""),O.setFieldValue("categoryName","")}})}),(0,Z.jsx)(u.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,Z.jsx)(R.Z,{formik:O,setFieldValue:O.setFieldValue,addOrEdit:!0,websiteId:null===O||void 0===O||null===(s=O.values)||void 0===s?void 0:s.websiteId})}),(0,Z.jsx)(u.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,Z.jsx)(ee,{formik:O,setFieldValue:O.setFieldValue,addOrEdit:!0})}),(0,Z.jsx)(u.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,Z.jsx)(B.Z,{name:"price",formik:O,errors:V,label:"Gi\xe1 s\u1ea3n ph\u1ea9m",type:"number"})}),(0,Z.jsx)(u.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,Z.jsx)(B.Z,{name:"negotiablePrice",formik:O,errors:V,label:"Gi\xe1 sale",type:"number"})}),(0,Z.jsx)(u.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,Z.jsx)(A.Z,{addOrEdit:!1,formik:O,setFieldValue:O.setFieldValue})}),(0,Z.jsx)(u.ZP,{item:!0,xs:12,md:12,lg:8,children:(0,Z.jsx)(B.Z,{name:"description",formik:O,errors:V,label:"N\u1ed9i dung ng\u1eafn",multiline:!0,rows:6})}),(0,Z.jsx)(u.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,Z.jsx)(pe.Z,{image:O.values.images,setFieldValue:O.setFieldValue,field:"images",multiple:!0})}),(0,Z.jsxs)(u.ZP,{item:!0,xs:12,md:6,lg:4,children:["Sale s\u1ea3n ph\u1ea9m",(0,Z.jsx)(z,(0,d.Z)((0,d.Z)({},{inputProps:{"aria-label":"Gi\u1ea3m gi\xe1"}}),{},{checked:null===O||void 0===O||null===(c=O.values)||void 0===c?void 0:c.isSale,onChange:function(e){O.setFieldValue("isSale",e.target.checked)}}))]})]})},{value:1,label:"N\u1ed9i dung",tab:(0,Z.jsx)(q.Z,{handleChange:function(e){null===O||void 0===O||O.setFieldValue("content",e)},data:null===O||void 0===O||null===(v=O.values)||void 0===v?void 0:v.content})},{value:2,label:"Nh\xf3m ph\xe2n lo\u1ea1i",tab:(0,Z.jsx)(ve,{formikProp:O})}];return(0,Z.jsx)(W.Z,{open:p,title:null!==b&&void 0!==b&&b.id?"C\u1eadp nh\u1eadt th\xf4ng tin ".concat(null===b||void 0===b?void 0:b.name):"Th\xeam m\u1edbi s\u1ea3n ph\u1ea9m",handleClose:function(){Q()},styleBox:{minWidth:"1300px",minHeight:"700px"},styleChildBox:{p:"0px 30px 20px"},styleTitle:{p:"10px 30px"},showButtonCloseDialog:!0,children:(0,Z.jsxs)(E.Z,{children:[(0,Z.jsxs)("form",{onSubmit:O.handleSubmit,children:[(0,Z.jsx)(Y.Z,{tabWrapper:K}),(0,Z.jsxs)(E.Z,{sx:{mt:3,display:"flex",justifyContent:"center"},children:[(0,Z.jsx)(L.Z,{onClick:function(){return Q()},size:"small",variant:"outlined",sx:{mr:"10px"},endIcon:(0,Z.jsx)(T.Z,{}),children:"H\u1ee7y"}),(0,Z.jsx)(L.Z,{size:"small",variant:"contained",type:"submit",endIcon:(0,Z.jsx)(J.Z,{}),children:"L\u01b0u l\u1ea1i"})]})]}),w&&(0,Z.jsx)(H.Z,{})]})})},xe=l(5403),he=Number("20"),fe=function(e){var i,l,d,n,o,t,c,v,p=e.setDataEdit,m=e.setVisibleDrawer,x=e.setLoading,h=(0,r.I0)(),f=(0,r.v9)(s.O7),g=(0,M.TA)({enableReinitialize:!0,initialValues:{name:(null===f||void 0===f||null===(i=f.filter)||void 0===i?void 0:i.name)||"",websiteId:(null===f||void 0===f||null===(l=f.filter)||void 0===l?void 0:l.websiteId)||"",categoryId:(null===f||void 0===f||null===(d=f.filter)||void 0===d?void 0:d.categoryId)||"",producer:(null===f||void 0===f||null===(n=f.filter)||void 0===n?void 0:n.producer)||"",supplier:(null===f||void 0===f||null===(o=f.filter)||void 0===o?void 0:o.supplier)||"",categoryName:(null===f||void 0===f||null===(t=f.filter)||void 0===t?void 0:t.categoryName)||"",status:(null===f||void 0===f||null===(c=f.filter)||void 0===c?void 0:c.status)||""},onSubmit:function(e){j(e)}}),j=function(e){var i,l;x(!0);var d={name:null===e||void 0===e||null===(i=e.name)||void 0===i?void 0:i.trim(),websiteId:null===e||void 0===e?void 0:e.websiteId,categoryId:null===e||void 0===e?void 0:e.categoryId,producerId:null===e||void 0===e?void 0:e.producerId,supplierId:null===e||void 0===e?void 0:e.supplierId,status:"".concat(null===e||void 0===e?void 0:e.status)};null!==e&&void 0!==e&&null!==(l=e.name)&&void 0!==l&&l.trim()||delete d.name,null!==e&&void 0!==e&&e.websiteId||delete d.websiteId,null!==e&&void 0!==e&&e.producerId||delete d.producerId,null!==e&&void 0!==e&&e.supplierId||delete d.supplierId,null!==e&&void 0!==e&&e.categoryId||(delete d.categoryId,delete d.categoryName),null!==e&&void 0!==e&&e.status||delete d.status;var n={filter:JSON.stringify(d),range:JSON.stringify([0,he]),sort:JSON.stringify(["createdAt","DESC"]),attributes:"id,name,websiteId,categoryId,price,producerId,supplierId,status,createdAt"};h((0,s.hX)(e)),h({type:"product/fetch",payload:n,callback:function(e){x(!1),!1===(null===e||void 0===e?void 0:e.success)&&(0,a.Z)("error",null===e||void 0===e?void 0:e.message)}})};return(0,Z.jsx)("form",{onSubmit:g.handleSubmit,children:(0,Z.jsxs)(u.ZP,{container:!0,spacing:2,children:[(0,Z.jsx)(u.ZP,{item:!0,xs:12,md:6,lg:3,children:(0,Z.jsx)(B.Z,{name:"name",formik:g,label:"T\xean s\u1ea3n ph\u1ea9m"})}),(0,Z.jsx)(u.ZP,{item:!0,xs:12,md:6,lg:3,children:(0,Z.jsx)(_.Z,{formik:g,setFieldValue:g.setFieldValue,addOrEdit:!1,handleChange:function(){g.setFieldValue("categoryId",""),g.setFieldValue("categoryName","")}})}),(0,Z.jsx)(u.ZP,{item:!0,xs:12,md:6,lg:3,children:(0,Z.jsx)(R.Z,{formik:g,setFieldValue:g.setFieldValue,addOrEdit:!1,websiteId:null===g||void 0===g||null===(v=g.values)||void 0===v?void 0:v.websiteId})}),(0,Z.jsx)(u.ZP,{item:!0,xs:12,md:6,lg:3,children:(0,Z.jsx)($,{formik:g,setFieldValue:g.setFieldValue,addOrEdit:!1})}),(0,Z.jsx)(u.ZP,{item:!0,xs:12,md:6,lg:3,children:(0,Z.jsx)(ee,{formik:g,setFieldValue:g.setFieldValue,addOrEdit:!1})}),(0,Z.jsx)(u.ZP,{item:!0,xs:12,md:6,lg:3,children:(0,Z.jsx)(A.Z,{addOrEdit:!1,formik:g,setFieldValue:g.setFieldValue})}),(0,Z.jsxs)(u.ZP,{item:!0,xs:12,md:12,lg:6,sx:{display:"flex",justifyContent:"flex-end"},children:[(0,Z.jsx)(L.Z,{variant:"contained",endIcon:(0,Z.jsx)(xe.Z,{}),type:"submit",children:"T\xecm ki\u1ebfm"}),(0,Z.jsx)(L.Z,{variant:"outlined",color:"success",endIcon:(0,Z.jsx)(de.Z,{}),sx:{ml:2},onClick:function(){p({productClass1s:[],productClass2s:[]}),m(!0)},children:"Th\xeam m\u1edbi"})]})]})})},Ze=l(95193),ge=l(57246),je=l(13967),be=l(41286),Ie=l(79472),ye=l(39987),Ce=l(58357),we=l(72426),ke=l.n(we),Se=Number("20"),Pe=function(e){var i=e.dataEdit,l=e.setDataEdit,t=e.setVisibleDrawer,u=e.loading,c=e.setLoading,v=e.getList,p=(0,r.I0)(),m=(0,je.Z)(),x=(0,Ze.Z)(m.breakpoints.down("md")),h=(0,r.v9)(s.O7),f=h.data.list,g=h.data.pagination,j=(0,o.useState)(!1),b=(0,n.Z)(j,2),I=b[0],y=b[1],C=function(e,i){p({type:"product/updateStatus",payload:{id:i,params:{status:e}},callback:function(e){!0===(null===e||void 0===e?void 0:e.success)?(0,a.Z)("success",null===e||void 0===e?void 0:e.message):(0,a.Z)("error",null===e||void 0===e?void 0:e.message)}})},w=function(e){return(0,Z.jsx)(ye.Z,{status:null===e||void 0===e?void 0:e.status,id:null===e||void 0===e?void 0:e.id,handleStatus:C})},k=function(e){return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(L.Z,{size:"small",variant:"outlined",endIcon:(0,Z.jsx)(be.Z,{}),onClick:function(){l(e),t(!0)},children:"S\u1eeda"}),(0,Z.jsx)(L.Z,{size:"small",variant:"outlined",color:"error",sx:{ml:1},endIcon:(0,Z.jsx)(ne.Z,{}),onClick:function(){y(!0),l(e)},children:"X\xf3a"})]})};return(0,Z.jsxs)(E.Z,{sx:{position:"relative",pb:2},children:[(0,Z.jsxs)(re.Z,{sx:{overflow:"auto"},children:[(0,Z.jsxs)(se.Z,{children:[(0,Z.jsx)(ae.Z,{children:function(){var e={whiteSpace:"nowrap",fontWeight:"bold"};return(0,Z.jsxs)(oe.Z,{children:[(0,Z.jsx)(te.Z,{sx:(0,d.Z)((0,d.Z)({},e),{},{width:"5%"}),align:"center",children:"#"}),(0,Z.jsx)(te.Z,{sx:e,children:"T\xean s\u1ea3n ph\u1ea9m"}),(0,Z.jsx)(te.Z,{sx:e,children:"Gi\xe1"}),(0,Z.jsx)(te.Z,{sx:e,children:"Website"}),(0,Z.jsx)(te.Z,{sx:e,children:"Chuy\xean m\u1ee5c"}),(0,Z.jsx)(te.Z,{sx:e,children:"Ng\xe0y t\u1ea1o"}),(0,Z.jsx)(te.Z,{sx:e,children:"Tr\u1ea1ng th\xe1i"}),(0,Z.jsx)(te.Z,{align:"right",sx:e,children:"H\xe0nh \u0111\u1ed9ng"})]})}()}),(0,Z.jsx)(ue.Z,{children:null===f||void 0===f?void 0:f.map((function(e,i){return function(e,i){var l,d,n;return(0,Z.jsxs)(oe.Z,{hover:!0,children:[(0,Z.jsx)(te.Z,{sx:{width:"5%"},align:"center",children:(0,Z.jsx)(ie.Z,{variant:"body2",children:i+Se*((null===g||void 0===g?void 0:g.current)-1)+1})}),(0,Z.jsx)(te.Z,{sx:{width:"20%",overflow:"hidden",maxWidth:300},component:"th",scope:"row",children:null===e||void 0===e?void 0:e.name}),(0,Z.jsx)(te.Z,{children:null===e||void 0===e||null===(l=e.price)||void 0===l?void 0:l.toLocaleString("vi",{style:"currency",currency:"VND"})}),(0,Z.jsx)(te.Z,{children:null===e||void 0===e||null===(d=e.website)||void 0===d?void 0:d.name}),(0,Z.jsx)(te.Z,{children:null===e||void 0===e||null===(n=e.category)||void 0===n?void 0:n.text}),(0,Z.jsx)(te.Z,{children:ke()(null===e||void 0===e?void 0:e.createdAt).format("DD/MM/YYYY HH:mm")}),(0,Z.jsx)(te.Z,{children:w(e)}),(0,Z.jsx)(te.Z,{align:"right",children:k(e)})]},e.id)}(e,i)}))})]}),(null===f||void 0===f?void 0:f.length)>0&&(0,Z.jsx)(ge.Z,{sx:{mt:2,display:"flex",justifyContent:"flex-end"},size:x?"small":"medium",count:Math.floor((null===g||void 0===g?void 0:g.total)/(null===g||void 0===g?void 0:g.pageSize))+1,page:null===g||void 0===g?void 0:g.current,color:"primary",shape:"rounded",onChange:function(e,i){var l,d;c(!0);var n=h.filter,o={name:null===n||void 0===n||null===(l=n.name)||void 0===l?void 0:l.trim(),websiteId:null===n||void 0===n?void 0:n.websiteId,categoryId:null===n||void 0===n?void 0:n.categoryId,producerId:null===n||void 0===n?void 0:n.producerId,supplierId:null===n||void 0===n?void 0:n.supplierId,status:null===n||void 0===n?void 0:n.status};null!==n&&void 0!==n&&null!==(d=n.name)&&void 0!==d&&d.trim()||delete o.name,null!==n&&void 0!==n&&n.websiteId||delete o.websiteId,null!==n&&void 0!==n&&n.categoryId||delete o.categoryId,null!==n&&void 0!==n&&n.producerId||delete o.producerId,null!==n&&void 0!==n&&n.supplierId||delete o.supplierId,""===(null===n||void 0===n?void 0:n.status)&&delete o.status;var t={filter:JSON.stringify(o),range:JSON.stringify([i*g.pageSize-g.pageSize,i*g.pageSize]),sort:JSON.stringify(["createdAt","DESC"]),attributes:"id,title,websiteId,categoryId,price,producerId,supplierId,status,createdAt"};p({type:"product/fetch",payload:t,callback:function(e){c(!1),!1===(null===e||void 0===e?void 0:e.success)&&(0,a.Z)("error",null===e||void 0===e?void 0:e.message)}})}})]}),0===(null===f||void 0===f?void 0:f.length)&&(0,Z.jsx)(Ie.Z,{}),u&&(0,Z.jsx)(H.Z,{}),I&&(0,Z.jsx)(Ce.Z,{name:null===i||void 0===i?void 0:i.name,open:I,handleClose:function(e){y(!1),e&&p({type:"product/delete",payload:{id:null===i||void 0===i?void 0:i.id},callback:function(e){!0===(null===e||void 0===e?void 0:e.success)?((0,a.Z)("success",null===e||void 0===e?void 0:e.message),v()):!1===(null===e||void 0===e?void 0:e.success)&&(0,a.Z)("error",e&&e.message)}})}})]})},Ve=Number("20"),Fe=function(){var e=(0,r.I0)(),i=(0,r.v9)(s.O7),l=(0,o.useState)(!1),u=(0,n.Z)(l,2),c=u[0],v=u[1],p=(0,o.useState)(!1),m=(0,n.Z)(p,2),x=m[0],h=m[1],f=(0,o.useState)({productClass1s:[],productClass2s:[]}),g=(0,n.Z)(f,2),j=g[0],b=g[1];(0,o.useEffect)((function(){I()}),[]);var I=function(){v(!0);var l=i.query,n=i.filter,o={filter:JSON.stringify({}),range:JSON.stringify([0,Ve]),sort:JSON.stringify(["createdAt","DESC"]),attributes:"id,name,websiteId,categoryId,price,producerId,supplierId,status,createdAt"};"{}"!==(null===l||void 0===l?void 0:l.filter)&&(o=(0,d.Z)((0,d.Z)({},o),{},{filter:null===l||void 0===l?void 0:l.filter})),"{}"!==(null===l||void 0===l?void 0:l.range)&&(o=(0,d.Z)((0,d.Z)({},o),{},{range:null===l||void 0===l?void 0:l.range})),"{}"!==(null===l||void 0===l?void 0:l.sort)&&(o=(0,d.Z)((0,d.Z)({},o),{},{sort:null===l||void 0===l?void 0:l.sort})),e((0,s.hX)(n)),e({type:"product/fetch",payload:o,callback:function(e){v(!1),!1===(null===e||void 0===e?void 0:e.success)&&(0,a.Z)("error",null===e||void 0===e?void 0:e.message)}})};return(0,Z.jsxs)(t.Z,{title:(0,Z.jsx)(fe,{setDataEdit:b,setVisibleDrawer:h,setLoading:v}),content:!1,children:[(0,Z.jsx)(Pe,{getList:I,dataEdit:j,setDataEdit:b,setVisibleDrawer:h,loading:c,setLoading:v}),(0,Z.jsx)(me,{open:x,dataEdit:j,handleClose:function(){return h(!1)},getList:I})]})}}}]);
//# sourceMappingURL=339.32e67531.chunk.js.map