"use strict";(self.webpackChunkprotal_web=self.webpackChunkprotal_web||[]).push([[339],{82242:function(e,i,l){l.r(i),l.d(i,{default:function(){return Fe}});var d=l(1413),n=l(70885),o=l(72791),t=l(94667),r=l(93051),s=l(38449),a=l(32004),u=l(13967),c=l(95193),v=l(61889),p=l(4942),m=l(63366),x=l(87462),h=l(94419),f=l(12065),Z=l(97278),g=l(76189),j=l(80184),b=(0,g.Z)((0,j.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),I=(0,g.Z)((0,j.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),y=(0,g.Z)((0,j.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),C=l(14036),w=l(31402),k=l(66934),S=l(21217);function P(e){return(0,S.Z)("MuiCheckbox",e)}var V=(0,l(75878).Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),F=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size"],N=(0,k.ZP)(Z.Z,{shouldForwardProp:function(e){return(0,k.FO)(e)||"classes"===e},name:"MuiCheckbox",slot:"Root",overridesResolver:function(e,i){var l=e.ownerState;return[i.root,l.indeterminate&&i.indeterminate,"default"!==l.color&&i["color".concat((0,C.Z)(l.color))]]}})((function(e){var i,l=e.theme,d=e.ownerState;return(0,x.Z)({color:(l.vars||l).palette.text.secondary},!d.disableRipple&&{"&:hover":{backgroundColor:l.vars?"rgba(".concat("default"===d.color?l.vars.palette.action.activeChannel:l.vars.palette.primary.mainChannel," / ").concat(l.vars.palette.action.hoverOpacity,")"):(0,f.Fq)("default"===d.color?l.palette.action.active:l.palette[d.color].main,l.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==d.color&&(i={},(0,p.Z)(i,"&.".concat(V.checked,", &.").concat(V.indeterminate),{color:(l.vars||l).palette[d.color].main}),(0,p.Z)(i,"&.".concat(V.disabled),{color:(l.vars||l).palette.action.disabled}),i))})),O=(0,j.jsx)(I,{}),z=(0,j.jsx)(b,{}),E=(0,j.jsx)(y,{}),L=o.forwardRef((function(e,i){var l,d,n=(0,w.Z)({props:e,name:"MuiCheckbox"}),t=n.checkedIcon,r=void 0===t?O:t,s=n.color,a=void 0===s?"primary":s,u=n.icon,c=void 0===u?z:u,v=n.indeterminate,p=void 0!==v&&v,f=n.indeterminateIcon,Z=void 0===f?E:f,g=n.inputProps,b=n.size,I=void 0===b?"medium":b,y=(0,m.Z)(n,F),k=p?Z:c,S=p?Z:r,V=(0,x.Z)({},n,{color:a,indeterminate:p,size:I}),L=function(e){var i=e.classes,l=e.indeterminate,d=e.color,n={root:["root",l&&"indeterminate","color".concat((0,C.Z)(d))]},o=(0,h.Z)(n,P,i);return(0,x.Z)({},i,o)}(V);return(0,j.jsx)(N,(0,x.Z)({type:"checkbox",inputProps:(0,x.Z)({"data-indeterminate":p},g),icon:o.cloneElement(k,{fontSize:null!=(l=k.props.fontSize)?l:I}),checkedIcon:o.cloneElement(S,{fontSize:null!=(d=S.props.fontSize)?d:I}),ownerState:V,ref:i},y,{classes:L}))})),D=l(64554),M=l(36151),J=l(96051),T=l(55705),W=l(53329),A=l(38926),B=l(36370),H=l(62461),_=l(15405),R=l(99198),q=l(20958),G=l(45912),Y=l(12069),X=l(68418),Q=l(77630),K=l(14868),U=l(22293),$=l(47071),ee=l(29388),ie=function(e){var i=e.formik,l=e.setFieldValue,t=e.addOrEdit,s=(0,r.I0)(),a=(0,o.useState)([]),u=(0,n.Z)(a,2),c=u[0],v=u[1];(0,o.useEffect)((function(){p()}),[]);var p=function(){s({type:"producer/fetchLazyLoading",payload:{filter:JSON.stringify({status:1}),range:JSON.stringify([0,500])},callback:function(e){var i=(null===e||void 0===e?void 0:e.results).list,l=null===i||void 0===i?void 0:i.map((function(e){return{value:e.id,label:e.name}}));v(l)}})};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(K.Z,{fullWidth:!0,size:"small",disablePortal:!0,id:"combo-box-demo",value:(null===c||void 0===c?void 0:c.length)>0?null===c||void 0===c?void 0:c.filter((function(e){var l;return e.value===(null===i||void 0===i||null===(l=i.values)||void 0===l?void 0:l.producerId)}))[0]:{value:"",label:""},options:c,disableClearable:t,renderInput:function(e){var l;return(0,j.jsx)(U.Z,(0,d.Z)((0,d.Z)({},e),{},{name:"producerId",label:t?(0,j.jsxs)("span",{className:"input-label",children:["Nh\xe0 s\u1ea3n xu\u1ea5t ",(0,j.jsx)("span",{children:" *"})]}):"Nh\xe0 s\u1ea3n xu\u1ea5t",error:i.touched.producerId&&Boolean(null===(l=i.errors)||void 0===l?void 0:l.producerId)}))},onChange:function(e,i){return l("producerId",null===i||void 0===i?void 0:i.value)}}),i.touched.producerId&&i.errors.producerId&&(0,j.jsxs)($.Z,{error:!0,className:"error-custom",children:[(0,j.jsx)(ee.Z,{fontSize:"small",sx:{mr:.5,width:"18px",height:"18px"}}),i.errors.producerId]})]})},le=function(e){var i=e.formik,l=e.setFieldValue,t=e.addOrEdit,s=(0,r.I0)(),a=(0,o.useState)([]),u=(0,n.Z)(a,2),c=u[0],v=u[1];(0,o.useEffect)((function(){p()}),[]);var p=function(){s({type:"supplier/fetchLazyLoading",payload:{filter:JSON.stringify({status:1}),range:JSON.stringify([0,500])},callback:function(e){var i=(null===e||void 0===e?void 0:e.results).list,l=null===i||void 0===i?void 0:i.map((function(e){return{value:e.id,label:e.name}}));v(l)}})};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(K.Z,{fullWidth:!0,size:"small",disablePortal:!0,id:"combo-box-demo",value:(null===c||void 0===c?void 0:c.length)>0?null===c||void 0===c?void 0:c.filter((function(e){var l;return e.value===(null===i||void 0===i||null===(l=i.values)||void 0===l?void 0:l.supplierId)}))[0]:{value:"",label:""},options:c,disableClearable:t,renderInput:function(e){var l;return(0,j.jsx)(U.Z,(0,d.Z)((0,d.Z)({},e),{},{name:"supplierId",label:t?(0,j.jsxs)("span",{className:"input-label",children:["Nh\xe0 cung c\u1ea5p ",(0,j.jsx)("span",{children:" *"})]}):"Nh\xe0 cung c\u1ea5p",error:i.touched.supplierId&&Boolean(null===(l=i.errors)||void 0===l?void 0:l.supplierId)}))},onChange:function(e,i){return l("supplierId",null===i||void 0===i?void 0:i.value)}}),i.touched.supplierId&&i.errors.supplierId&&(0,j.jsxs)($.Z,{error:!0,className:"error-custom",children:[(0,j.jsx)(ee.Z,{fontSize:"small",sx:{mr:.5,width:"18px",height:"18px"}}),i.errors.supplierId]})]})},de=l(20890),ne=l(13400),oe=l(42419),te=l(27247),re=l(35855),se=l(53994),ae=l(39281),ue=l(79836),ce=l(56890),ve=l(53382),pe=function(e){var i,l,n,o=e.formikProp,t={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},r=function(e,i,l){var n,t,r=null===o||void 0===o||null===(n=o.values)||void 0===n||null===(t=n.productPrices)||void 0===t?void 0:t.find((function(l){return(null===l||void 0===l?void 0:l.productClass1Id)===e&&(null===l||void 0===l?void 0:l.productClass2Id)===i}));return(0,j.jsx)(U.Z,{size:"small",fullWidth:!0,variant:"standard",value:null===r||void 0===r?void 0:r[l],type:"number",onChange:function(n){var t=Number(n.target.value);if(r){var s,a,u=null===o||void 0===o||null===(s=o.values)||void 0===s||null===(a=s.productPrices)||void 0===a?void 0:a.map((function(e){return(null===e||void 0===e?void 0:e.id)===(null===r||void 0===r?void 0:r.id)?(0,d.Z)((0,d.Z)({},r),{},{price:"price"===l?t:null===e||void 0===e?void 0:e.price,negotiablePrice:"negotiablePrice"===l?t:null===e||void 0===e?void 0:e.negotiablePrice,amount:"amount"===l?t:null===e||void 0===e?void 0:e.amount}):e}));o.setFieldValue("productPrices",u)}else{var c,v={id:Math.floor(9900001*Math.random()),price:"price"===l?t:0,negotiablePrice:"negotiablePrice"===l?t:0,amount:"amount"===l?t:0,productClass1Id:e,productClass2Id:i,flag:"add"};o.setFieldValue("productPrices",null===o||void 0===o||null===(c=o.values)||void 0===c?void 0:c.productPrices.concat([v]))}}})};return(0,j.jsx)(D.Z,{children:(0,j.jsx)(ae.Z,{sx:{overflow:"auto"},children:(0,j.jsxs)(ue.Z,{children:[(0,j.jsx)(ce.Z,{children:function(){var e={whiteSpace:"nowrap",fontWeight:"bold"};return(0,j.jsxs)(re.Z,{children:[(0,j.jsx)(se.Z,{sx:e,children:"Ph\xe2n lo\u1ea1i 1"}),(0,j.jsx)(se.Z,{sx:e,children:(0,j.jsxs)(D.Z,{display:"flex",justifyContent:"space-between",children:[(0,j.jsx)(D.Z,{sx:{width:"25%"},children:"Ph\xe2n lo\u1ea1i 2"}),(0,j.jsx)(D.Z,{sx:{width:"25%"},children:"Gi\xe1"}),(0,j.jsx)(D.Z,{sx:{width:"25%"},children:"Gi\xe1 sale"}),(0,j.jsx)(D.Z,{sx:{width:"25%"},children:"S\u1ed1 l\u01b0\u1ee3ng"})]})})]})}()}),(0,j.jsx)(ve.Z,{children:null===o||void 0===o||null===(i=o.values)||void 0===i||null===(l=i.productClass1s)||void 0===l||null===(n=l.filter((function(e){return"delete"!==(null===e||void 0===e?void 0:e.flag)})))||void 0===n?void 0:n.map((function(e){return function(e){var i,l,n;return(0,j.jsxs)(re.Z,{hover:!0,children:[(0,j.jsx)(se.Z,{sx:(0,d.Z)({maxWidth:100},t),component:"th",scope:"row",children:null===e||void 0===e?void 0:e.name}),(0,j.jsx)(se.Z,{children:null===o||void 0===o||null===(i=o.values)||void 0===i||null===(l=i.productClass2s)||void 0===l||null===(n=l.filter((function(e){return"delete"!==(null===e||void 0===e?void 0:e.flag)})))||void 0===n?void 0:n.map((function(i,l){return(0,j.jsxs)(D.Z,{display:"flex",sx:{mt:l>0?2:0},justifyContent:"space-between",children:[(0,j.jsx)(D.Z,{sx:{width:"25%"},children:(0,j.jsx)(de.Z,{children:null===i||void 0===i?void 0:i.name})}),(0,j.jsx)(D.Z,{sx:{width:"25%",pr:2},children:r(null===e||void 0===e?void 0:e.id,null===i||void 0===i?void 0:i.id,"price")}),(0,j.jsx)(D.Z,{sx:{width:"25%",pr:2},children:r(null===e||void 0===e?void 0:e.id,null===i||void 0===i?void 0:i.id,"negotiablePrice")}),(0,j.jsx)(D.Z,{sx:{width:"25%",pr:2},children:r(null===e||void 0===e?void 0:e.id,null===i||void 0===i?void 0:i.id,"amount")})]},l)}))})]},e.id)}(e)}))})]})})})},me=function(e){var i=e.formikProp,l={p:"10px",mb:"10px",border:"1px solid #bbb"},n={pb:"5px",mb:"10px",textAlign:"center",borderBottom:"1px solid #bbb"},o=[{id:1},{id:2}];return(0,j.jsxs)(v.ZP,{container:!0,spacing:2,children:[(0,j.jsx)(v.ZP,{item:!0,xs:12,md:4,lg:4,children:null===o||void 0===o?void 0:o.map((function(e){var o,t,r=null===i||void 0===i||null===(o=i.values)||void 0===o?void 0:o["productClass".concat(null===e||void 0===e?void 0:e.id,"s")];return(0,j.jsxs)(D.Z,{sx:(0,d.Z)({},l),children:[(0,j.jsxs)(de.Z,{sx:(0,d.Z)({},n),children:["Nh\xf3m ph\xe2n lo\u1ea1i ",null===e||void 0===e?void 0:e.id]}),null===r||void 0===r||null===(t=r.filter((function(e){return"delete"!==(null===e||void 0===e?void 0:e.flag)})))||void 0===t?void 0:t.map((function(l){return(0,j.jsxs)(D.Z,{display:"flex",children:[(0,j.jsx)(U.Z,{size:"small",fullWidth:!0,name:"name",variant:"standard",value:null===l||void 0===l?void 0:l.name,sx:{mb:1},onChange:function(n){var o=null===r||void 0===r?void 0:r.map((function(e){return(null===e||void 0===e?void 0:e.id)===(null===l||void 0===l?void 0:l.id)?(0,d.Z)((0,d.Z)({},e),{},{name:n.target.value}):e}));i.setFieldValue("productClass".concat(null===e||void 0===e?void 0:e.id,"s"),o)}}),(0,j.jsx)(ne.Z,{"aria-label":"delete product class",edge:"end",onClick:function(){return function(e,l){var n,o,t,r,s=null===i||void 0===i||null===(n=i.values)||void 0===n||null===(o=n["productClass".concat(e,"s")])||void 0===o?void 0:o.map((function(e){return(null===e||void 0===e?void 0:e.id)===l?(0,d.Z)((0,d.Z)({},e),{},{flag:"delete"}):e})),a=null===i||void 0===i||null===(t=i.values)||void 0===t||null===(r=t.productPrices)||void 0===r?void 0:r.map((function(i){return(null===i||void 0===i?void 0:i["productClass".concat(e,"Id")])===l?(0,d.Z)((0,d.Z)({},i),{},{flag:"delete"}):i}));i.setFieldValue("productPrices",a),i.setFieldValue("productClass".concat(e,"s"),s)}(null===e||void 0===e?void 0:e.id,null===l||void 0===l?void 0:l.id)},children:(0,j.jsx)(te.Z,{color:"error",fontSize:"small"})})]},null===l||void 0===l?void 0:l.id)})),(0,j.jsxs)(M.Z,{sx:{mt:1},fullWidth:!0,startIcon:(0,j.jsx)(oe.Z,{}),variant:"outlined",onClick:function(){var l=[{id:Math.floor(9900001*Math.random()),name:"Lo\u1ea1i ".concat((null===r||void 0===r?void 0:r.length)+1),flag:"add"}].concat(r);i.setFieldValue("productClass".concat(null===e||void 0===e?void 0:e.id,"s"),l)},disabled:10===(null===r||void 0===r?void 0:r.length),children:["Th\xeam ph\xe2n lo\u1ea1i (",null===r||void 0===r?void 0:r.length,"/10)"]})]},null===e||void 0===e?void 0:e.id)}))}),(0,j.jsx)(v.ZP,{item:!0,xs:12,md:8,lg:8,children:(0,j.jsx)(pe,{formikProp:i})})]})},xe=l(20782),he=function(e){var i,l,t,s,p,m,x=e.open,h=e.dataEdit,f=e.handleClose,Z=e.getList,g=(0,r.I0)(),b=(0,u.Z)(),I=(0,c.Z)(b.breakpoints.down("lg")),y=(0,o.useState)({productClass1s:[],productClass2s:[]}),C=(0,n.Z)(y,2),w=C[0],k=C[1],S=(0,o.useState)(!1),P=(0,n.Z)(S,2),V=P[0],F=P[1],N=(0,o.useState)({}),O=(0,n.Z)(N,2),z=O[0],E=O[1];(0,o.useEffect)((function(){x&&(null!==h&&void 0!==h&&h.id?(F(!0),g({type:"product/getOne",payload:{id:null===h||void 0===h?void 0:h.id},callback:function(e){if(F(!1),!0===(null===e||void 0===e?void 0:e.success)){var i=e.results.list;k(i)}else!1===(null===e||void 0===e?void 0:e.success)&&(0,a.Z)("error",null===e||void 0===e?void 0:e.message)}})):k({productClass1s:[],productClass2s:[]}))}),[x]);var K=J.Ry().shape({name:J.Z_().trim().max(254).required("Vui l\xf2ng nh\u1eadp t\xean s\u1ea3n ph\u1ea9m"),url:J.Z_().trim().max(254).required("Vui l\xf2ng nh\u1eadp url"),description:J.Z_().trim().max(1e3),author:J.Z_().trim().max(254),price:J.Rx().min(1,"Vui l\xf2ng nh\u1eadp gi\xe1 ti\u1ec1n l\u1edbn h\u01a1n 0"),negotiablePrice:J.Rx().min(1,"Vui l\xf2ng nh\u1eadp gi\xe1 th\u1ecfa thu\u1eadn h\u01a1n 0"),source:J.Z_().trim().max(254),label:J.Z_().trim().max(254),websiteId:J.Z_().required("Vui l\xf2ng ch\u1ecdn website"),categoryId:J.Z_().required("Vui l\xf2ng ch\u1ecdn chuy\xean m\u1ee5c")}),U=(0,T.TA)({enableReinitialize:!0,initialValues:{name:(null===w||void 0===w?void 0:w.name)||"",url:(null===w||void 0===w?void 0:w.url)||"",price:(null===w||void 0===w?void 0:w.price)||0,negotiablePrice:(null===w||void 0===w?void 0:w.negotiablePrice)||0,description:(null===w||void 0===w?void 0:w.description)||"",content:(null===w||void 0===w?void 0:w.content)||"",images:(null===w||void 0===w?void 0:w.images)||"",websiteId:(null===w||void 0===w?void 0:w.websiteId)||"",categoryId:(null===w||void 0===w?void 0:w.categoryId)||"",producerId:(null===w||void 0===w?void 0:w.producerId)||"",supplierId:(null===w||void 0===w?void 0:w.supplierId)||"",categoryName:(null===w||void 0===w||null===(i=w.category)||void 0===i?void 0:i.text)||"",productClass1s:(null===w||void 0===w||null===(l=w.productClass1s)||void 0===l?void 0:l.length)>0?null===w||void 0===w?void 0:w.productClass1s:[],productClass2s:(null===w||void 0===w||null===(t=w.productClass2s)||void 0===t?void 0:t.length)>0?null===w||void 0===w?void 0:w.productClass2s:[],isSale:(null===w||void 0===w?void 0:w.isSale)||!1,productPrices:(null===w||void 0===w?void 0:w.productPrices)||[],status:0===(null===w||void 0===w?void 0:w.status)?0:1},validationSchema:K,onSubmit:function(e){$(e)}}),$=function(e){var i,l;F(!0);var n=(0,d.Z)((0,d.Z)({},e),{},{name:null===e||void 0===e||null===(i=e.name)||void 0===i?void 0:i.trim(),nameOld:null===w||void 0===w||null===(l=w.name)||void 0===l?void 0:l.trim()});null!==w&&void 0!==w&&w.id?g({type:"product/update",payload:{id:null===w||void 0===w?void 0:w.id,params:n},callback:function(e){null!==e&&void 0!==e&&e.success?((0,a.Z)("success",null===e||void 0===e?void 0:e.message),Z(),ee()):(E(e.error),(0,a.Z)("error",e.message)),F(!1)}}):g({type:"product/add",payload:n,callback:function(e){F(!1),null!==e&&void 0!==e&&e.success?((0,a.Z)("success",null===e||void 0===e?void 0:e.message),Z(),ee()):(E(e.error),(0,a.Z)("error",e.message))}})},ee=function(){f(),U.resetForm(),U.setTouched({},!1),E({})},de=[{value:0,label:"Th\xf4ng tin c\u01a1 b\u1ea3n",tab:(0,j.jsxs)(v.ZP,{container:!0,spacing:3,children:[(0,j.jsx)(v.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,j.jsx)(_.Z,{name:"name",formik:U,errors:z,required:!0,label:"T\xean s\u1ea3n ph\u1ea9m",handleChange:function(e){!function(e){var i,l,d=(0,X.CQ)(e),n=null===d||void 0===d||null===(i=d.split(" "))||void 0===i||null===(l=i.join("-"))||void 0===l?void 0:l.toLowerCase();U.setFieldValue("url",n)}(e)}})}),(0,j.jsx)(v.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,j.jsx)(_.Z,{name:"url",formik:U,errors:z,required:!0,label:"\u0110\u01b0\u1eddng d\u1eabn"})}),(0,j.jsx)(v.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,j.jsx)(ie,{formik:U,setFieldValue:U.setFieldValue,addOrEdit:!0})}),(0,j.jsx)(v.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,j.jsx)(q.Z,{formik:U,setFieldValue:U.setFieldValue,addOrEdit:!0,handleChange:function(){U.setFieldValue("categoryId",""),U.setFieldValue("categoryName","")}})}),(0,j.jsx)(v.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,j.jsx)(G.Z,{formik:U,setFieldValue:U.setFieldValue,addOrEdit:!0,websiteId:null===U||void 0===U||null===(s=U.values)||void 0===s?void 0:s.websiteId})}),(0,j.jsx)(v.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,j.jsx)(le,{formik:U,setFieldValue:U.setFieldValue,addOrEdit:!0})}),(0,j.jsx)(v.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,j.jsx)(_.Z,{name:"price",formik:U,errors:z,label:"Gi\xe1 s\u1ea3n ph\u1ea9m",type:"number"})}),(0,j.jsx)(v.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,j.jsx)(_.Z,{name:"negotiablePrice",formik:U,errors:z,label:"Gi\xe1 sale",type:"number"})}),(0,j.jsx)(v.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,j.jsx)(H.Z,{addOrEdit:!1,formik:U,setFieldValue:U.setFieldValue})}),(0,j.jsx)(v.ZP,{item:!0,xs:12,md:12,lg:8,children:(0,j.jsx)(_.Z,{name:"description",formik:U,errors:z,label:"N\u1ed9i dung ng\u1eafn",multiline:!0,rows:6})}),(0,j.jsx)(v.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,j.jsx)(xe.Z,{image:U.values.images,setFieldValue:U.setFieldValue,field:"images",multiple:!0})}),(0,j.jsxs)(v.ZP,{item:!0,xs:12,md:6,lg:4,children:["Sale s\u1ea3n ph\u1ea9m",(0,j.jsx)(L,(0,d.Z)((0,d.Z)({},{inputProps:{"aria-label":"Gi\u1ea3m gi\xe1"}}),{},{checked:null===U||void 0===U||null===(p=U.values)||void 0===p?void 0:p.isSale,onChange:function(e){U.setFieldValue("isSale",e.target.checked)}}))]})]})},{value:1,label:"N\u1ed9i dung",tab:(0,j.jsx)(Y.Z,{handleChange:function(e){null===U||void 0===U||U.setFieldValue("content",e)},data:null===U||void 0===U||null===(m=U.values)||void 0===m?void 0:m.content})},{value:2,label:"Nh\xf3m ph\xe2n lo\u1ea1i",tab:(0,j.jsx)(me,{formikProp:U})}];return(0,j.jsx)(B.Z,{open:x,title:null!==w&&void 0!==w&&w.id?"C\u1eadp nh\u1eadt th\xf4ng tin ".concat(null===w||void 0===w?void 0:w.name):"Th\xeam m\u1edbi s\u1ea3n ph\u1ea9m",handleClose:function(){ee()},styleBox:{minWidth:I?"100%":"1300px",minHeight:"700px"},styleChildBox:{p:"0px 30px 20px"},styleTitle:{p:"10px 30px"},showButtonCloseDialog:!0,children:(0,j.jsxs)(D.Z,{children:[(0,j.jsxs)("form",{onSubmit:U.handleSubmit,children:[(0,j.jsx)(Q.Z,{tabWrapper:de}),(0,j.jsxs)(D.Z,{sx:{mt:3,mb:I?15:0,display:"flex",justifyContent:"center"},children:[(0,j.jsx)(M.Z,{onClick:function(){return ee()},size:"small",variant:"outlined",sx:{mr:"10px"},endIcon:(0,j.jsx)(A.Z,{}),children:"H\u1ee7y"}),(0,j.jsx)(M.Z,{size:"small",variant:"contained",type:"submit",endIcon:(0,j.jsx)(W.Z,{}),children:"L\u01b0u l\u1ea1i"})]})]}),V&&(0,j.jsx)(R.Z,{})]})})},fe=l(5403),Ze=Number("20"),ge=function(e){var i,l,d,n,o,t,u,c,p=e.setDataEdit,m=e.setVisibleDrawer,x=e.setLoading,h=(0,r.I0)(),f=(0,r.v9)(s.O7),Z=(0,T.TA)({enableReinitialize:!0,initialValues:{name:(null===f||void 0===f||null===(i=f.filter)||void 0===i?void 0:i.name)||"",websiteId:(null===f||void 0===f||null===(l=f.filter)||void 0===l?void 0:l.websiteId)||"",categoryId:(null===f||void 0===f||null===(d=f.filter)||void 0===d?void 0:d.categoryId)||"",producer:(null===f||void 0===f||null===(n=f.filter)||void 0===n?void 0:n.producer)||"",supplier:(null===f||void 0===f||null===(o=f.filter)||void 0===o?void 0:o.supplier)||"",categoryName:(null===f||void 0===f||null===(t=f.filter)||void 0===t?void 0:t.categoryName)||"",status:(null===f||void 0===f||null===(u=f.filter)||void 0===u?void 0:u.status)||""},onSubmit:function(e){g(e)}}),g=function(e){var i,l;x(!0);var d={name:null===e||void 0===e||null===(i=e.name)||void 0===i?void 0:i.trim(),websiteId:null===e||void 0===e?void 0:e.websiteId,categoryId:null===e||void 0===e?void 0:e.categoryId,producerId:null===e||void 0===e?void 0:e.producerId,supplierId:null===e||void 0===e?void 0:e.supplierId,status:"".concat(null===e||void 0===e?void 0:e.status)};null!==e&&void 0!==e&&null!==(l=e.name)&&void 0!==l&&l.trim()||delete d.name,null!==e&&void 0!==e&&e.websiteId||delete d.websiteId,null!==e&&void 0!==e&&e.producerId||delete d.producerId,null!==e&&void 0!==e&&e.supplierId||delete d.supplierId,null!==e&&void 0!==e&&e.categoryId||(delete d.categoryId,delete d.categoryName),null!==e&&void 0!==e&&e.status||delete d.status;var n={filter:JSON.stringify(d),range:JSON.stringify([0,Ze]),sort:JSON.stringify(["createdAt","DESC"]),attributes:"id,name,websiteId,categoryId,price,producerId,supplierId,status,createdAt"};h((0,s.hX)(e)),h({type:"product/fetch",payload:n,callback:function(e){x(!1),!1===(null===e||void 0===e?void 0:e.success)&&(0,a.Z)("error",null===e||void 0===e?void 0:e.message)}})};return(0,j.jsx)("form",{onSubmit:Z.handleSubmit,children:(0,j.jsxs)(v.ZP,{container:!0,spacing:2,children:[(0,j.jsx)(v.ZP,{item:!0,xs:12,md:6,lg:3,children:(0,j.jsx)(_.Z,{name:"name",formik:Z,label:"T\xean s\u1ea3n ph\u1ea9m"})}),(0,j.jsx)(v.ZP,{item:!0,xs:12,md:6,lg:3,children:(0,j.jsx)(q.Z,{formik:Z,setFieldValue:Z.setFieldValue,addOrEdit:!1,handleChange:function(){Z.setFieldValue("categoryId",""),Z.setFieldValue("categoryName","")}})}),(0,j.jsx)(v.ZP,{item:!0,xs:12,md:6,lg:3,children:(0,j.jsx)(G.Z,{formik:Z,setFieldValue:Z.setFieldValue,addOrEdit:!1,websiteId:null===Z||void 0===Z||null===(c=Z.values)||void 0===c?void 0:c.websiteId})}),(0,j.jsx)(v.ZP,{item:!0,xs:12,md:6,lg:3,children:(0,j.jsx)(ie,{formik:Z,setFieldValue:Z.setFieldValue,addOrEdit:!1})}),(0,j.jsx)(v.ZP,{item:!0,xs:12,md:6,lg:3,children:(0,j.jsx)(le,{formik:Z,setFieldValue:Z.setFieldValue,addOrEdit:!1})}),(0,j.jsx)(v.ZP,{item:!0,xs:12,md:6,lg:3,children:(0,j.jsx)(H.Z,{addOrEdit:!1,formik:Z,setFieldValue:Z.setFieldValue})}),(0,j.jsxs)(v.ZP,{item:!0,xs:12,md:12,lg:6,sx:{display:"flex",justifyContent:"flex-end"},children:[(0,j.jsx)(M.Z,{variant:"contained",endIcon:(0,j.jsx)(fe.Z,{}),type:"submit",children:"T\xecm ki\u1ebfm"}),(0,j.jsx)(M.Z,{variant:"outlined",color:"success",endIcon:(0,j.jsx)(oe.Z,{}),sx:{ml:2},onClick:function(){p({productClass1s:[],productClass2s:[]}),m(!0)},children:"Th\xeam m\u1edbi"})]})]})})},je=l(57246),be=l(41286),Ie=l(79472),ye=l(39987),Ce=l(58357),we=l(72426),ke=l.n(we),Se=Number("20"),Pe=function(e){var i=e.dataEdit,l=e.setDataEdit,t=e.setVisibleDrawer,v=e.loading,p=e.setLoading,m=e.getList,x=(0,r.I0)(),h=(0,u.Z)(),f=(0,c.Z)(h.breakpoints.down("md")),Z=(0,r.v9)(s.O7),g=Z.data.list,b=Z.data.pagination,I=(0,o.useState)(!1),y=(0,n.Z)(I,2),C=y[0],w=y[1],k=function(e,i){x({type:"product/updateStatus",payload:{id:i,params:{status:e}},callback:function(e){!0===(null===e||void 0===e?void 0:e.success)?(0,a.Z)("success",null===e||void 0===e?void 0:e.message):(0,a.Z)("error",null===e||void 0===e?void 0:e.message)}})},S=function(e){return(0,j.jsx)(ye.Z,{status:null===e||void 0===e?void 0:e.status,id:null===e||void 0===e?void 0:e.id,handleStatus:k})},P=function(e){return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(M.Z,{size:"small",variant:"outlined",endIcon:(0,j.jsx)(be.Z,{}),onClick:function(){l(e),t(!0)},children:"S\u1eeda"}),(0,j.jsx)(M.Z,{size:"small",variant:"outlined",color:"error",sx:{ml:1},endIcon:(0,j.jsx)(te.Z,{}),onClick:function(){w(!0),l(e)},children:"X\xf3a"})]})};return(0,j.jsxs)(D.Z,{sx:{position:"relative",pb:2},children:[(0,j.jsxs)(ae.Z,{sx:{overflow:"auto"},children:[(0,j.jsxs)(ue.Z,{children:[(0,j.jsx)(ce.Z,{children:function(){var e={whiteSpace:"nowrap",fontWeight:"bold"};return(0,j.jsxs)(re.Z,{children:[(0,j.jsx)(se.Z,{sx:(0,d.Z)((0,d.Z)({},e),{},{width:"5%"}),align:"center",children:"#"}),(0,j.jsx)(se.Z,{sx:e,children:"T\xean s\u1ea3n ph\u1ea9m"}),(0,j.jsx)(se.Z,{sx:e,children:"Gi\xe1"}),(0,j.jsx)(se.Z,{sx:e,children:"Website"}),(0,j.jsx)(se.Z,{sx:e,children:"Chuy\xean m\u1ee5c"}),(0,j.jsx)(se.Z,{sx:e,children:"Ng\xe0y t\u1ea1o"}),(0,j.jsx)(se.Z,{sx:e,children:"Tr\u1ea1ng th\xe1i"}),(0,j.jsx)(se.Z,{align:"right",sx:e,children:"H\xe0nh \u0111\u1ed9ng"})]})}()}),(0,j.jsx)(ve.Z,{children:null===g||void 0===g?void 0:g.map((function(e,i){return function(e,i){var l,d,n;return(0,j.jsxs)(re.Z,{hover:!0,children:[(0,j.jsx)(se.Z,{sx:{width:"5%"},align:"center",children:(0,j.jsx)(de.Z,{variant:"body2",children:i+Se*((null===b||void 0===b?void 0:b.current)-1)+1})}),(0,j.jsx)(se.Z,{sx:{width:"20%",overflow:"hidden",maxWidth:300},component:"th",scope:"row",children:null===e||void 0===e?void 0:e.name}),(0,j.jsx)(se.Z,{children:null===e||void 0===e||null===(l=e.price)||void 0===l?void 0:l.toLocaleString("vi",{style:"currency",currency:"VND"})}),(0,j.jsx)(se.Z,{children:null===e||void 0===e||null===(d=e.website)||void 0===d?void 0:d.name}),(0,j.jsx)(se.Z,{children:null===e||void 0===e||null===(n=e.category)||void 0===n?void 0:n.text}),(0,j.jsx)(se.Z,{children:ke()(null===e||void 0===e?void 0:e.createdAt).format("DD/MM/YYYY HH:mm")}),(0,j.jsx)(se.Z,{children:S(e)}),(0,j.jsx)(se.Z,{align:"right",children:P(e)})]},e.id)}(e,i)}))})]}),(null===g||void 0===g?void 0:g.length)>0&&(0,j.jsx)(je.Z,{sx:{mt:2,display:"flex",justifyContent:"flex-end"},size:f?"small":"medium",count:Math.floor((null===b||void 0===b?void 0:b.total)/(null===b||void 0===b?void 0:b.pageSize))+1,page:null===b||void 0===b?void 0:b.current,color:"primary",shape:"rounded",onChange:function(e,i){var l,d;p(!0);var n=Z.filter,o={name:null===n||void 0===n||null===(l=n.name)||void 0===l?void 0:l.trim(),websiteId:null===n||void 0===n?void 0:n.websiteId,categoryId:null===n||void 0===n?void 0:n.categoryId,producerId:null===n||void 0===n?void 0:n.producerId,supplierId:null===n||void 0===n?void 0:n.supplierId,status:null===n||void 0===n?void 0:n.status};null!==n&&void 0!==n&&null!==(d=n.name)&&void 0!==d&&d.trim()||delete o.name,null!==n&&void 0!==n&&n.websiteId||delete o.websiteId,null!==n&&void 0!==n&&n.categoryId||delete o.categoryId,null!==n&&void 0!==n&&n.producerId||delete o.producerId,null!==n&&void 0!==n&&n.supplierId||delete o.supplierId,""===(null===n||void 0===n?void 0:n.status)&&delete o.status;var t={filter:JSON.stringify(o),range:JSON.stringify([i*b.pageSize-b.pageSize,i*b.pageSize]),sort:JSON.stringify(["createdAt","DESC"]),attributes:"id,title,websiteId,categoryId,price,producerId,supplierId,status,createdAt"};x({type:"product/fetch",payload:t,callback:function(e){p(!1),!1===(null===e||void 0===e?void 0:e.success)&&(0,a.Z)("error",null===e||void 0===e?void 0:e.message)}})}})]}),0===(null===g||void 0===g?void 0:g.length)&&(0,j.jsx)(Ie.Z,{}),v&&(0,j.jsx)(R.Z,{}),C&&(0,j.jsx)(Ce.Z,{name:null===i||void 0===i?void 0:i.name,open:C,handleClose:function(e){w(!1),e&&x({type:"product/delete",payload:{id:null===i||void 0===i?void 0:i.id},callback:function(e){!0===(null===e||void 0===e?void 0:e.success)?((0,a.Z)("success",null===e||void 0===e?void 0:e.message),m()):!1===(null===e||void 0===e?void 0:e.success)&&(0,a.Z)("error",e&&e.message)}})}})]})},Ve=Number("20"),Fe=function(){var e=(0,r.I0)(),i=(0,r.v9)(s.O7),l=(0,o.useState)(!1),u=(0,n.Z)(l,2),c=u[0],v=u[1],p=(0,o.useState)(!1),m=(0,n.Z)(p,2),x=m[0],h=m[1],f=(0,o.useState)({productClass1s:[],productClass2s:[]}),Z=(0,n.Z)(f,2),g=Z[0],b=Z[1];(0,o.useEffect)((function(){I()}),[]);var I=function(){v(!0);var l=i.query,n=i.filter,o={filter:JSON.stringify({}),range:JSON.stringify([0,Ve]),sort:JSON.stringify(["createdAt","DESC"]),attributes:"id,name,websiteId,categoryId,price,producerId,supplierId,status,createdAt"};"{}"!==(null===l||void 0===l?void 0:l.filter)&&(o=(0,d.Z)((0,d.Z)({},o),{},{filter:null===l||void 0===l?void 0:l.filter})),"{}"!==(null===l||void 0===l?void 0:l.range)&&(o=(0,d.Z)((0,d.Z)({},o),{},{range:null===l||void 0===l?void 0:l.range})),"{}"!==(null===l||void 0===l?void 0:l.sort)&&(o=(0,d.Z)((0,d.Z)({},o),{},{sort:null===l||void 0===l?void 0:l.sort})),e((0,s.hX)(n)),e({type:"product/fetch",payload:o,callback:function(e){v(!1),!1===(null===e||void 0===e?void 0:e.success)&&(0,a.Z)("error",null===e||void 0===e?void 0:e.message)}})};return(0,j.jsxs)(t.Z,{title:(0,j.jsx)(ge,{setDataEdit:b,setVisibleDrawer:h,setLoading:v}),content:!1,children:[(0,j.jsx)(Pe,{getList:I,dataEdit:g,setDataEdit:b,setVisibleDrawer:h,loading:c,setLoading:v}),(0,j.jsx)(he,{open:x,dataEdit:g,handleClose:function(){return h(!1)},getList:I})]})}}}]);
//# sourceMappingURL=339.5ebabfa7.chunk.js.map